<p align="center">
	<img alt="logo" src="document/image/144221063-a85b2cb0-0416-493f-9afb-56cff31e977d.jpg" width="300">
</p>
<h1 align="center" style="margin: 30px 0 30px; font-weight: bold;">PikaScript</h1>
<h4 align="center">è·¨å¹³å°çš„è¶…è½»é‡çº§åµŒå…¥å¼ Python å¼•æ“</h4>
<p align="center">
	<a href="https://gitee.com/lyon1998/pikascript/stargazers"><img src="https://gitee.com/lyon1998/pikascript/badge/star.svg?theme=gvp"></a>
	<a href="https://gitee.com/lyon1998/pikascript/members"><img src="https://gitee.com/lyon1998/pikascript/badge/fork.svg?theme=gvp"></a>
	<a href="https://github.com/pikastech/pikascript/stargazers"><img src="https://img.shields.io/github/stars/pikastech/pikascript?style=flat-square&logo=GitHub"></a>
	<a href="https://github.com/pikastech/pikascript/network/members"><img src="https://img.shields.io/github/forks/pikastech/pikascript?style=flat-square&logo=GitHub"></a>
	<a href="https://github.com/pikastech/pikascript/blob/master/LICENSE"><img src="https://img.shields.io/github/license/pikastech/pikascript.svg?style=flat-square"></a>
        <a href="https://github.com/pikasTech/pikascript/actions/workflows/CI.yml"><img src="https://github.com/pikasTech/pikascript/actions/workflows/CI.yml/badge.svg"> </a>
</p>

<p align="center">
	<a href="https://whycan.com/f_55.html" >è®ºå›</a> |
	<a href="https://pikadoc.readthedocs.io/zh/latest/index.html" >æ–‡æ¡£ä¸­å¿ƒ</a> |
	<a href="https://space.bilibili.com/5365336/channel/seriesdetail?sid=1034902">è§†é¢‘</a> |
        <a href="https://item.taobao.com/item.htm?spm=a21dvs.23580594.0.0.52de3d0dt7rqAx&ft=t&id=654947372034">å¼€å‘æ¿</a> |
        <a href="https://pikadoc.readthedocs.io/zh/latest/%E4%BD%BF%E7%94%A8%20BSP%20%E5%B7%A5%E7%A8%8B.html">BSP</a> |
	<a href="https://pikadoc.readthedocs.io/zh/latest/%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%8E%E6%A8%A1%E5%9D%97%E7%AE%A1%E7%90%86.html">åŒ…ç®¡ç†å™¨</a> |
	<a href="https://pikadoc.readthedocs.io/zh/latest/%E4%BB%8E%20RT-Thread%20%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%BC%80%E5%A7%8B.html" >RT-Thread è½¯ä»¶åŒ…</a> |
	<a href="https://pikadoc.readthedocs.io/zh/latest/%E5%A6%82%E4%BD%95%E5%8F%82%E4%B8%8E%E7%A4%BE%E5%8C%BA%E8%B4%A1%E7%8C%AE.html" >å‚ä¸è´¡çŒ®</a> |
	<a href="https://pikadoc.readthedocs.io/zh/latest/%E5%95%86%E4%B8%9A%E5%90%88%E4%BD%9C%E6%96%B9%E5%BC%8F.html">å•†ä¸šåˆä½œ</a> 
</p>

[![image](document/image/147997370-ff37b6e7-25b2-4174-aa64-c1fb92cede04.png)](https://pikastech.github.io/pikascript/dev/bench/)


# 1.ç®€ä»‹

PikaScript æ˜¯ä¸€ä¸ªå®Œå…¨é‡å†™çš„è¶…è½»é‡çº§ python å¼•æ“ï¼Œé›¶ä¾èµ–ï¼Œé›¶é…ç½®ï¼Œå¯ä»¥åœ¨  **Flash â‰¤ 32KBï¼ŒRAMâ‰¤ 4KB**  çš„å¹³å°ä¸‹è¿è¡Œ(å¦‚ stm32g030c8 å’Œ stm32f103c8)ï¼Œææ˜“éƒ¨ç½²å’Œæ‰©å±•ï¼Œå…·æœ‰å¤§é‡çš„ä¸­æ–‡æ–‡æ¡£å’Œè§†é¢‘èµ„æ–™ã€‚

PikaScript å…·æœ‰æ¡†æ¶å¼ C æ¨¡å—å¼€å‘å·¥å…·ï¼Œåªè¦ç”¨ Python å†™å¥½è°ƒç”¨ API ï¼Œå°±èƒ½å¤Ÿè‡ªåŠ¨è¿æ¥åˆ° C æ¨¡å—ï¼Œéå¸¸æ–¹ä¾¿å¿«æ·ã€‚ä¸ç”¨æ‰‹åŠ¨å¤„ç†ä»»ä½•å…¨å±€è¡¨ã€å®å®šä¹‰ã€ç­‰ç­‰ã€‚

PikaScript ä¹Ÿæ”¯æŒ MDKã€iarã€RT-studio ç­‰å¸¸è§ ide å¼€å‘ï¼Œèƒ½å¤Ÿè½»æ¾åœ°è°ƒè¯• C æ¨¡å—ã€‚

![output_Kgj52R](document/image/132940452-d07d766c-5aa7-4187-96f2-66b02984e82c.gif)

<img src="document/image/147799764-5db2cb30-ee74-4cde-a2bd-b91c358ae3d9.png" width="500"/>

![image](document/image/138021445-13643518-b0a3-4872-a290-5dec27697837.png)

# è·å– PikaScript:

## ä½¿ç”¨åœ¨çº¿å›¾å½¢åŒ–å·¥ç¨‹ç”Ÿæˆå™¨
ç”Ÿæˆå™¨åœ°å€:
http://pikascript.com
<img src="document/image/152632673-019a7f92-7b7f-4fb5-92b7-4ae4c26ec865.png" width="500"/>

## ä½¿ç”¨ Pika åŒ…ç®¡ç†å™¨[PikaPackage.exe](https://pikadoc.readthedocs.io/zh/latest/%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%8E%E6%A8%A1%E5%9D%97%E7%AE%A1%E7%90%86.html)

1. ç›´æ¥è¿è¡Œ[PikaPackage.exe](https://gitee.com/Lyon1998/pikascript/attach_files/907478/download), è‡ªåŠ¨ä¸‹è½½å¹¶æ›´æ–°pikaScriptä¸»ä»“åº“(æ–‡ä»¶åœ¨å½“å‰ç£ç›˜çš„/tmp/pikaScriptæ–‡ä»¶å¤¹)

2. å°†[requestment.txt](/bsp/stm32g030c8/pikascript/requestment.txt)æ”¾åœ¨[PikaPackage.exe](../../raw/master/tools/pikaPackageManager/pikaPackage.exe)åŒä¸€æ–‡ä»¶å¤¹ä¸‹, è¿è¡Œ[pikaPackage.exe](../../raw/master/tools/pikaPackageManager/pikaPackage.exe), è‡ªåŠ¨åœ¨å½“å‰ç›®å½•ä¸‹å®‰è£…[å†…æ ¸](../../tree/master/src)ã€[é¢„ç¼–è¯‘å™¨](../../tree/master/tools/pikaCompiler)ä¸[æ¨¡å—](../../tree/master/package)ã€‚

3. å·²å‘å¸ƒçš„æ¨¡å—åˆ—è¡¨ï¼š[packages.toml](/packages.toml)

# å¿«é€Ÿä¸Šæ‰‹

å¯ä½¿ç”¨[ä»¿çœŸå·¥ç¨‹](document/1.ä¸‰åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹.md)å¿«é€Ÿä¸Šæ‰‹ï¼Œæ— éœ€ç¡¬ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹æ”¯æŒçš„å¼€å‘æ¿[Pikaæ´¾â€”Zero](https://item.taobao.com/item.htm?spm=a2126o.success.result.1.76224831Y0X1gO&id=654947372034)ï¼Œä¸Šæ‰‹å³ç©ã€‚

[Pikaæ´¾pythonç¼–ç¨‹æ¸¸ç©æŒ‡å—](https://pikadoc.readthedocs.io/zh/latest/Pika%20%E6%B4%BE%E5%BC%80%E5%8F%91%E6%9D%BF%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.html)

[![PikaPi-Zero](document/image/147940229-a6b8ebf5-41db-4614-a525-448f47de0a67.png)](https://item.taobao.com/item.htm?spm=a2126o.success.result.1.76224831Y0X1gO&id=654947372034)

å¼€å‘æ¿åŸºäº STM32G030C8T6 å°èµ„æº MCUï¼Œä»… 64kB Flashï¼Œ8kB RAM å³å¯è¿è¡Œå®Œæ•´è§£é‡Šå™¨ï¼Œå’Œå®Œæ•´çš„å¤–è®¾é©±åŠ¨ï¼ˆGPIOã€TIMEã€IICã€UARTã€ADCã€PWMã€RGBã€KEYã€LCDï¼‰ã€‚æ¿è½½ CH340 USB è½¬ä¸²å£èŠ¯ç‰‡ï¼ŒType-C æ¥å£ï¼Œæ”¯æŒä¸²å£ä¸‹è½½ python è„šæœ¬ï¼Œæ¿è½½4é¢— RGB ç¯ï¼Œå¯é€‰é…[LCDå±å¹•](https://item.taobao.com/item.htm?spm=a1z10.3-c.w4002-23991764791.12.16f97c58fsLjVk&id=660745643102)ã€‚

# å¼€å‘æ‰‹å†Œ

### [ç‚¹æ­¤è¿›å…¥æ–‡æ¡£ä¸­å¿ƒ](https://pikadoc.readthedocs.io/zh/latest/index.html)

![image](document/image/144693400-99f9c038-76fd-4d95-b3d2-137bd972d580.png)

# è§†é¢‘æ•™ç¨‹

### [ç‚¹æ­¤è¿›å…¥è§†é¢‘ä¸­å¿ƒ](https://space.bilibili.com/5365336/channel/seriesdetail?sid=1034902)

![image](document/image/142173892-35e33f36-413c-4422-8470-b873b7c3bd71.png)

# äº¤æµè®ºå›

### [ç‚¹æ­¤è¿›å…¥è®ºå›](https://whycan.com/f_55.html)

![image](document/image/144693543-4aee46c8-b6c8-4282-99c4-e07271a4ba5f.png)

## æ–‡ä»¶ç›®å½•
[src](../../tree/master/src) - å†…æ ¸æºç 

[bsp](../../tree/master/bsp) - è£¸æœºèŠ¯ç‰‡/æ¿å¡æ”¯æŒ

[port](../../tree/master/port) - æ“ä½œç³»ç»Ÿæ”¯æŒ

[document](../../tree/master/document) - å¼€å‘æ–‡æ¡£

[examples](../../tree/master/examples) - ç¤ºä¾‹è„šæœ¬

[package](../../tree/master/package) - æ¨¡å—ç›®å½•

[pikaCompiler](../../tree/master/tools/pikaCompiler) - ä½¿ç”¨ rust ç¼–å†™çš„é¢„ç¼–è¯‘å™¨

[pikaPackageManager](../../tree/master/tools/pikaPackageManager) - ä½¿ç”¨ go ç¼–å†™çš„æ¨¡å—ç®¡ç†å™¨

# 2.å¹³å°æ”¯æŒåˆ—è¡¨

## MCU support
|MCU|bsp|gpio|uart|pwm|adc|i2c|
|---|---|---|---|---|---|---|
|stm32g030c8|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32g070cB|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f103c8|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f103rb|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f103ze|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f103rc|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f401cc|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f411ce|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|stm32f407ze|âˆš| | | | | |
|stm32f407zg|âˆš| | | | | |
|stm32h750vb|âˆš| | | | | |
|stm32f051r8|âˆš| | | | | |
|ch582|âˆš|âˆš|âˆš| |âˆš|âˆš|
|ch32v103r8t6|âˆš|âˆš| | | | |
|cm32m101a|âˆš| | | | | |
|w801|âˆš| | | | | |
|w806|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|
|apm32f030r8|âˆš| | | | | |
|apm32e103vb|âˆš| | | | | |
|bl-706|âˆš| | | | | |
|Raspberry Pico|âˆš| | | | | |
|ESP32C3|âˆš| | | | | |
|TC264D|âˆš| | | | | |
|devc|âˆš| | | | | |

## Board support
|Board|bsp|gpio|uart|pwm|adc|i2c|rgb|lcd|arm-2d|
|---|---|---|---|---|---|---|---|---|---|
|[Pika-Pi-Zero](https://item.taobao.com/item.htm?spm=a230r.1.14.1.4f2e27a8R0qWJn&id=654947372034&ns=1&abbucket=15#detail)|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|

|Board|bsp|arm-2d|
|---|---|---|
|QEMU-arm2d|âˆš|âˆš|

|Board|bsp|LED|KEY|
|---|---|---|---|
|SmartLoong|âˆš|âˆš|âˆš|âˆš|

## OS support

|OS|port|GPIO|TIME|PWM|
|---|---|---|---|---|
|RT-Thread|âˆš|âˆš|âˆš|âˆš|
|vsf|âˆš|âˆš| | |

|OS|port|Google Test|Benchmark|
|---|---|---|---|
|linux|âˆš|âˆš|âˆš|

## ç›¸å…³å¼€æºé¡¹ç›® 
### PikaScript Bluepill Demo In PlatformIO â€” Python-like REPL ğŸğŸ”Œ
https://github.com/maxgerhardt/pikascript-pio-bluepill

# 3.ç‰¹æ€§
### (1)è¿è¡Œç¯å¢ƒ

æ”¯æŒè£¸æœºè¿è¡Œï¼Œå¯è¿è¡Œäº **RAM â‰¥ 4kB** ï¼Œ**FLASH â‰¥ 32kB** çš„mcuä¸­ï¼Œå¦‚stm32g030, stm32f103c8t6ï¼Œesp8266ã€‚

### (2)å¼€å‘ç¯å¢ƒ
æ”¯æŒä¸²å£ä¸‹è½½ Python è„šæœ¬ã€‚

<img src="document/image/134841230-85de6734-8467-4245-93a5-d452b5022b42.gif" width="400" alt="å¾®ä¿¡äº¤æµç¾¤"/><br/>

æ”¯æŒ Keilã€IARã€rt-thread studioã€segger embedded studio ç­‰IDEå¼€å‘ã€‚

æ”¯æŒ CMakeã€makeFileã€Scons ç­‰æ„å»ºå·¥å…·

é›¶ä¾èµ–ï¼Œé›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨ï¼Œææ˜“é›†æˆè¿›å·²æœ‰çš„Cå·¥ç¨‹ã€‚

ææ˜“æ‹“å±•è‡ªå®šä¹‰çš„CåŸç”Ÿå‡½æ•°ã€‚

æ”¯æŒè·¨å¹³å°ï¼Œå¯åœ¨ linux ç¯å¢ƒå¼€å‘å†…æ ¸ã€‚

### (3)è¯­æ³•ç‰¹æ€§

ä½¿ç”¨ python3 æ ‡å‡†è¯­æ³•çš„å­é›†ã€‚

åœ¨ç¼–è¯‘æ—¶æ”¯æŒ python ç±»å’Œæ–¹æ³•å®šä¹‰ï¼Œå®Œæ•´æ”¯æŒå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æ¨¡å—åŠŸèƒ½ - åŸºäº [Pika é¢„ç¼–è¯‘å™¨](../../tree/master/tools/pikaCompiler)ã€‚

åœ¨è¿è¡Œæ—¶æ”¯æŒ python æ–¹æ³•è°ƒç”¨ã€å˜é‡å®šä¹‰ã€å¯¹è±¡æ„é€ ã€å¯¹è±¡é‡Šæ”¾ã€æ§åˆ¶æµ(if\while) - åŸºäº [Pika è¿è¡Œæ—¶å†…æ ¸](../../tree/master/src/package/pikascript/pikascript-core)ã€‚

|è¯­æ³•|ç¼–è¯‘æ—¶|è¿è¡Œæ—¶|Shell|
|---|---|---|---|
|æ¨¡å—å®šä¹‰   |âˆš|-|-|
|æ¨¡å—å¯¼å…¥   |âˆš|-|-|
|ç±»å®šä¹‰    |âˆš|âˆš|âˆš|
|ç±»ç»§æ‰¿    |âˆš|âˆš|âˆš|
|æ–¹æ³•å®šä¹‰   |âˆš|âˆš|âˆš|
|æ–¹æ³•é‡è½½   |âˆš|âˆš|âˆš|
|æ–¹æ³•è°ƒç”¨   |âˆš|âˆš|âˆš|
|å‚æ•°å®šä¹‰   |âˆš|âˆš|âˆš|
|å‚æ•°èµ‹å€¼   |âˆš|âˆš|âˆš|
|å¯¹è±¡æ–°å»º   |âˆš|âˆš|âˆš|
|å¯¹è±¡é”€æ¯   |âˆš|âˆš|âˆš|
|å¯¹è±¡åµŒå¥—   |âˆš|âˆš|âˆš|
|æ§åˆ¶æµ     |âˆš|âˆš|âˆš|

#### æ“ä½œç¬¦

| + | - | * | / | == | > | < | >= | <= | % | ** | // | != | & | >> | << | and | or | not | += | -= | *= | /= |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|

#### æ§åˆ¶æµ

| if | while | for | else | elif | break | continue |
| --- | --- | --- | --- | --- | --- | --- |
|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|âˆš|

#### æ•°æ®ç»“æ„

| string | list | dict |
| --- | --- | --- |
|âˆš|âˆš|âˆš|

### (4)æºç è§„èŒƒ

æ³¨é‡æºç å¯è¯»æ€§ï¼Œå‘½åè§„èŒƒï¼Œæ ‡å‡†ç»Ÿä¸€ï¼Œå®Œå…¨ä¸ä½¿ç”¨å®ï¼Œå‡ ä¹ä¸ä½¿ç”¨å…¨å±€å˜é‡ã€‚

å®Œæ•´çš„ googletest å•å…ƒæµ‹è¯•ã€‚

# 4.äº¤æµä¸æŠ€æœ¯æ”¯æŒï¼š

## Tencent QQ Group:

<img src="document/image/136304186-e49610e4-ce01-4524-99b6-b56842d56411.png" width="300" alt="å¾®ä¿¡äº¤æµç¾¤"/><br/>

## Tencent QQï¼š 
645275593

## E-mail: 
645275593@qq.com





# 5.Demoå±•ç¤º

## Demo 01 GPIO

``` python
import PikaStdLib
import STM32G0

mem = PikaStdLib.MemChecker()
io1 = STM32G0.GPIO()
time = STM32G0.Time()

io1.init()
io1.setPin('PA8')
io1.setMode('out')
io1.enable()
io1.low()

print('hello pikascript')
print('mem.max :')
mem.max()
print('mem.now :')
mem.now()

while True:
    io1.low()
    time.sleep_ms(500)
    io1.high()
    time.sleep_ms(500)

```

![Hnet-image (2)](document/image/132943428-f2b365ca-140e-42f4-936c-db6a7d9f8dee.gif)

## Demo 02 USART

``` python
import PikaStdLib
import STM32G0

time = STM32G0.Time()
uart = STM32G0.UART()
uart.init()
uart.setId(1)
uart.setBaudRate(115200)
uart.enable()

while True:
    time.sleep_ms(500)
    readBuff = uart.read(2)
    print('read 2 char:')
    print(readBuff)

```
![Hnet-image (3)](document/image/132943365-0f7059b3-4f9d-4989-a5ec-2cce72b0cc96.gif)


## Demo 03 ADC

``` python
import PikaStdLib
import STM32G0

time = STM32G0.Time()
adc1 = STM32G0.ADC()

adc1.init()
adc1.setPin('PA1')
adc1.enable()

while True:
    val = adc1.read()
    print('adc1 value:')
    print(val)
    time.sleep_ms(500)

 ```

![mmexport1631351523907](document/image/132944185-0a01b1ba-8cf7-4f9f-9d73-fe9cbcd52f0b.png)


## Demo 04 PWM output

``` python
import PikaStdLib
import STM32G0

time = STM32G0.Time()
pwm = STM32G0.PWM()
pwm.setPin('PA8')
pwm.setFrequency(2000)
pwm.setDuty(0.5)
pwm.enable()

while True:
    time.sleep_ms(500)
    pwm.setDuty(0.5)
    time.sleep_ms(500)
    pwm.setDuty(0.001)
    
```

## Demo 05 RGB

``` python
import STM32G0
import PikaPiZero
import PikaStdLib

rgb = PikaPiZero.RGB()
mem = PikaStdLib.MemChecker()

rgb.init()
rgb.enable()

print('hello 2')
print('mem used max:')
mem.max()

while True:
    print('flowing')
    rgb.flow()

```

## Demo 06 Snake(Need LCD)

``` python
from PikaObj import *
import PikaStdLib
import PikaPiZero
import STM32G0

# hardware init
lcd = PikaPiZero.LCD()
lcd.init()
lcd.clear('white')
key = PikaPiZero.KEY()
key.init()
time = STM32G0.Time()
x_max = 120
y_max = 150

# snake init
s = PikaPiZero.Point()
w = 9
h = 9
s.x = 50
s.y = 10
len = 0
while len < 3:
    b = s
    i = 0
    while i < len:
        b = b.next
        i = i + 1
    b.next = PikaPiZero.Point()
    b.next.x = b.x - 10
    b.next.y = b.y
    b.next.prev = b
    len = len + 1
# ring link
b.next = s
s.prev = b

i = 0
b = s
while i < len:
    lcd.fill(b.x, b.y, w, h, 'blue')
    b = b.next
    i = i + 1

print('snake lengh')
print(len)

# fruit init
f = PikaPiZero.Point()
f.x = 30
f.y = 20
lcd.fill(f.x, f.y, w, h, 'green')

# memory check
mem = PikaStdLib.MemChecker()
print('mem used max:')
mem.max()

# main loop
d = 0
isUpdate = 1
isEat = 0
while True:
    if isUpdate:
        # isUpdate = 0
        # check eat fruit
        if f.x == s.x and f.y == s.y:
            # have eat fruit
            isEat = 1
            f.x = f.x + 30
            if f.x > x_max:
                f.x = f.x - x_max
            f.y = f.y + 30
            if f.y > y_max:
                f.y = f.y - y_max
            lcd.fill(f.x, f.y, w, h, 'green')
        # move snake by the direction
        if d == 0:
            x_new = s.x + 10
            y_new = s.y
            if x_new > x_max:
                x_new = 0
        elif d == 1:
            x_new = s.x
            y_new = s.y - 10
            if y_new < 0:
                y_new = y_max
        elif d == 2:
            x_new = s.x
            y_new = s.y + 10
            if y_new > y_max:
                y_new = 0
        elif d == 3:
            x_new = s.x - 10
            y_new = s.y
            if x_new < 0:
                x_new = x_max
        if isEat:
            isEat = 0
            b_new = PikaPiZero.Point()
            b_new.x = x_new
            b_new.y = y_new
            b_new.prev = s.prev
            b_new.next = s
            s.prev.next = b_new
            s.prev = b_new
            s = b_new
            len = len + 1
            print('snake lengh')
            print(len)
            print('mem used max:')
            mem.max()
        # drow the snake and fruit
        # clear last body
        lcd.fill(s.prev.x, s.prev.y, w, h, 'white')
        # new body
        s.prev.x = x_new
        s.prev.y = y_new
        # head is last body
        s = s.prev
        lcd.fill(s.x, s.y, w, h, 'blue')
        b = s
        i = 0
    # scan key
    key_val = key.get()
    if key_val == 0:
        d = 0
        isUpdate = 1
    elif key_val == 1:
        d = 1
        isUpdate = 1
    elif key_val == 2:
        d = 2
        isUpdate = 1
    elif key_val == 3:
        d = 3
        isUpdate = 1

```

![è¾“å…¥å›¾ç‰‡è¯´æ˜](document/image/imagefwef.png)

è¿™å‡ ä¸ª Demo å ç”¨çš„ RAM æœ€å¤§å€¼åªæœ‰3.56Kï¼ŒæŠŠ1Kçš„å †æ ˆä¹Ÿç®—ä¸Šå°±æ˜¯4.56Kï¼ŒFlash æœ€å¤§å ç”¨æ˜¯30.4Kï¼Œä»¥ STM32F103C8T6 çš„ 20K RAM å’Œ 64K Flash ä¸ºæ ‡å‡†ï¼ŒRAM æ‰ç”¨æ‰ä¸åˆ°25%ï¼ŒFlash æ‰ç”¨æ‰ä¸åˆ°50%ã€‚

æˆ‘ä»¬å¯ä»¥ç®€å•å¯¹æ¯”ä¸€ä¸‹ micropython çš„å¸¸ç”¨èŠ¯ç‰‡ STM32F405RG å’Œè¿™æ¬¡è·‘ PikaScript çš„èŠ¯ç‰‡STM32G070CB

## RAMèµ„æºå¯¹æ¯”
![image](document/image/132944731-a55ece1d-061f-4b91-ba87-bd6547be96a7.png)

## Flashèµ„æºå¯¹æ¯”
![image](document/image/132944745-e9cf598d-e75f-40bb-873e-911819d535b7.png)

## å‚è€ƒä»·å¯¹æ¯”(ä»¥2021å¹´9æœˆ11æ—¥ç«‹åˆ›å•†åŸ10ç‰‡å”®ä»·ä¸ºå‚è€ƒï¼‰
![image](document/image/132944757-2b5cfda8-f93f-4456-8d7f-4e4767954056.png)

## æ‹“å±•èƒ½åŠ›å¦‚ä½•å‘¢ï¼Ÿ

é™¤äº†è®¾å¤‡é©±åŠ¨ä¹‹å¤–ï¼Œä¸º mcu å¼€å‘è‡ªå®šä¹‰çš„ python è„šæœ¬ç»‘å®šåœ¨ pikascript çš„å¼€å‘æ¡†æ¶ä¸‹éå¸¸è½»æ¾ï¼Œä¸‹é¢ä¸¤ä¸ª Demo å°±æ˜¯è‡ªå®šä¹‰çš„Cæ¨¡å—æ‹“å±•ï¼Œè¿™ä¸ª Demo åŸºäº ARM-2D å›¾åƒé©±åŠ¨åº“å¼€å‘äº†ä¸€äº› python è„šæœ¬æ¥å£ã€‚

## å‡ ä¸ªå°æ–¹å—~
![Hnet-image (7)](document/image/132945282-bfd310df-8063-456d-b90c-6b798a2c8ed5.gif)

## å‡ ä¸ªæ—‹è½¬å¤ªé˜³~
![Hnet-image (6)](document/image/132945107-e473a2cc-9fbc-47f9-aaed-a28d3ad1048c.gif)

# 6.å†…æ ¸æµ‹è¯•ä¸å¼€å‘

## Test core in docker (recommend)
step1: Clone the repo
``` shell
git clone https://github.com/pikastech/pikascript
cd pikascript/docker 
```

step2: build and run the docker contianer
```
sh build.sh
sh run.sh
# now you are in the port/linux
```

step3: init the port/linux
``` shell	
sh pull-core.sh
sh init.sh
```

step4: test the core 
``` shell
sh gtest.sh
sh ci_benchmark.sh
```

step5: Run the REPL
``` shell
sh run.sh
```

## Test core in linux (ubuntu20.04 is recommend)

step1: Clone the repo
``` shell
git clone https://github.com/pikastech/pikascript
cd pikascript/port/linux
```

step2: install dependency
```
sh install_dependency.sh # install dependency 
```

step3: init the port/linux
``` shell	
sh pull-core.sh
sh init.sh
```

step4: test the core 
``` shell
sh gtest.sh
sh ci_benchmark.sh
```

step5: Run the REPL
``` shell
sh run.sh
```

# 7.è´¡çŒ®è€…
| å†…å®¹ | è´¡çŒ®è€… |
| --- | --- |
| å®šå‘èµåŠ©ï¼š500Â¥ (ctypes ç›¸å…³ï¼‰ | è’‹å¤ªå¹³ |
| fix linux install script | [Maximilian Gerhardt](https://github.com/maxgerhardt) |
| ch582 package | [æ¢¦ç¨‹MI](https://gitee.com/dreamcmi) |
| ch582 BSP | [æ¢¦ç¨‹MI](https://gitee.com/dreamcmi) |
| æèµ ï¼šEC600X QuecPython å¼€å‘æ¿ | ç§»è¿œé€šä¿¡ æ­¦åŠ ç‰ |
| Performance Point: 900->1400 | [GorgonMeducer](https://github.com/GorgonMeducer) |
| stm32f051r8 BSP |[unsigned](https://gitee.com/unsigned0)|
| stm32f407ze BSP |[unsigned](https://gitee.com/unsigned0)|
| devc BSP |[unsigned](https://gitee.com/unsigned0)|
| TC264D BSP |[unsigned](https://gitee.com/unsigned0)|
| PikaVM ä¼˜åŒ– | [GorgonMeducer](https://github.com/GorgonMeducer) |
| W801Device package | åˆ˜å»¶(å¾®ä¿¡å) |
| W806 bsp | åˆ˜å»¶(å¾®ä¿¡å) |
| æèµ ï¼šESP32C3 5picï¼Œè°ƒè¯•å™¨ |å¯æ˜äº‘ç«¯ æ²§å¾¡|
| æèµ ï¼šLS1C101èŠ¯ç‰‡10pic, LS1c101å¼€å‘æ¿ï¼Œè°ƒè¯•å™¨|é¾™èŠ¯ä¿±ä¹éƒ¨ çŸ³å—|
| PikaVSF OS package | [versaloon](https://github.com/versaloon) |
| ESP32C3 BSP |æ²§å¾¡|
| æèµ ï¼šESP32å¼€å‘æ¿ã€å¢¨æ°´å±*4 | name(å¾®ä¿¡å) |
| æèµ ï¼šæ™ºé¾™å¼€å‘æ¿ | é¾™èŠ¯ä¿±ä¹éƒ¨ çŸ³å— |
| package/STM32F1 | [sjy](https://gitee.com/shanjiayang) |
| package/STM32F103RBBooter | [sjy](https://gitee.com/shanjiayang) |
| bsp/stm32f103rb | [sjy](https://gitee.com/shanjiayang) |
| åŸºäº QEMU çš„ ARM-2D ä»¿çœŸå·¥ç¨‹ | [liuduanfei](https://github.com/liuduanfei) |
| æèµ ï¼šGD32E103TB èŠ¯ç‰‡2ç‰‡ | ä¿¡æ¯ç‰›(å¾®ä¿¡å) |
| Rt-thread æ”¯æŒåŒ…ã€é€‚é…å±‚ã€æ¨¡å—| [Meco Jianting Man](https://github.com/mysterywolf) |
| æèµ ï¼šç§»è¿œ EC600S-CN 4Gæ¨¡å— | ç§»è¿œæ¨¡å— |
| æèµ ï¼šåšæµ BL706 å¼€å‘æ¿|åšæµæ™ºèƒ½ [bouffalolab](https://github.com/bouffalolab)|
| æèµ ï¼šä¸­å›½ç§»åŠ¨ CM32M101A å¼€å‘æ¿| å­Ÿå·(å¾®ä¿¡å) |
| æèµ ï¼šAPM32F030R8 å¼€å‘æ¿ | ææµ·åŠå¯¼ä½“ é™ˆæˆ |
| æèµ ï¼šAPM32E103VB å¼€å‘æ¿ | ææµ·åŠå¯¼ä½“ é™ˆæˆ |
| æèµ ï¼šAPEX-Link ä»¿çœŸå™¨ | ææµ·åŠå¯¼ä½“ é™ˆæˆ |
| æºç æ ¼å¼åŒ–ï¼Œå¢åŠ  git å±æ€§æ–‡ä»¶ | [Meco Jianting Man](https://github.com/mysterywolf) |
| demo/simulation-keil | åƒå¸†(å¾®ä¿¡å) |
| demo/stm32f103zet6/demo01-led-stm32f103zet6 | [ç”œèˆª](https://github.com/easyzoom) |
| demo/stm32f103zet6/demo02-led-stm32f103zet6_tworoot | [ç”œèˆª](https://github.com/easyzoom) |
| demo/stm32f407zgt/demo01-led-stm32f407vgt | [ç”œèˆª](https://github.com/easyzoom) |